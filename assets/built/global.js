document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".burger"),e=(t.addEventListener("click",()=>{document.body.classList.toggle("head__open")}),document.querySelector(".head__nightshift-toggle")),i=(e.addEventListener("click",t=>{t.preventDefault(),document.documentElement.setAttribute("color-mode",theme),theme="dark"===theme?"light":"dark",document.documentElement.setAttribute("color-mode",theme),localStorage.setItem("mode",theme)}),document.querySelector(".menu-secondary__button")),n=document.querySelector(".head__menu-secondary");i.addEventListener("click",t=>{n.classList.toggle("active")}),document.addEventListener("click",t=>{t.target.closest(".menu-secondary__button")||n.classList.remove("active")});let s=document.querySelector(".head");const r="head--active",o="head--noactive";let a=0;var c,h;function l(t){if(h[t])return h[t].exports;var e=h[t]={i:t,l:!1,exports:{}};return c[t].call(e.exports,e,e.exports,l),e.l=!0,e.exports}window.addEventListener("scroll",()=>{var t=window.pageYOffset;t<=0?s.classList.remove(r):(t>a&&!s.classList.contains(o)?(s.classList.remove(r),s.classList.add(o),n.classList.remove("active")):t<a&&s.classList.contains(o)&&(s.classList.remove(o),s.classList.add(r),n.classList.remove("active")),a=t)}),c=[function(t,e,i){"use strict";function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,o,n,s,a,c;n="FlexSearch",s=function O(E){function u(t,e){var i=e?e.id:t&&t.id;this.id=i||0===i?i:G++,this.init(t,e),n(this,"index",function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)}),n(this,"length",function(){return this.index.length})}function I(t,e,i,n){return this.u!==this.g&&(this.o=this.o.concat(i),this.u++,n&&this.o.length>=n&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(e,this.o),this.F&&this.F(this.o))),this}function A(t,e){for(var i=t.length,n=U(e),s=[],r=0,o=0;r<i;r++){var a=t[r];(n&&e(a)||!n&&!e[a])&&(s[o++]=a)}return s}function F(t,e,i,n,s,r,o,a,c,h){var l;if(i=D(i,o?0:s,a,r,e,c,h),a&&(a=i.page,l=i.next,i=i.result),o)e=this.where(o,null,s,i);else{for(e=i,i=this.l,s=e.length,r=Array(s),o=0;o<s;o++)r[o]=i[e[o]];e=r}return i=e,n&&(U(n)||(n=1<(f=n.split(":")).length?C:(f=f[0],j)),i.sort(n)),i=P(a,l,i),this.cache&&this.j.set(t,i),i}function n(t,e,i){Object.defineProperty(t,e,{get:i})}function d(t){return new RegExp(t,"g")}function s(t,e){for(var i=0;i<e.length;i+=2)t=t.replace(e[i],e[i+1]);return t}function w(t,e,i,n,s,r,o,a){return e[i]||(o<=(e[i]=s=s?(a-(o||a/1.5))*r+(o||a/1.5)*s:r)&&((t=(t=t[a-(s+.5>>0)])[i]||(t[i]=[]))[t.length]=n),s)}function h(t,e){if(t)for(var i=Object.keys(t),n=0,s=i.length;n<s;n++){var r=i[n],o=t[r];if(o)for(var a=0,c=o.length;a<c;a++){if(o[a]===e){1===c?delete t[r]:o.splice(a,1);break}q(o[a])&&h(o[a],e)}}}function r(t){for(var e="",i="",n="",s=0;s<t.length;s++){var r=t[s];r!==i&&(s&&"h"===r?(n="a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n,("a"!==i&&"e"!==i&&"i"!==i&&"o"!==i&&"u"!==i&&"y"!==i||!n)&&" "!==i||(e+=r)):e+=r),n=s===t.length-1?"":t[s+1],i=r}return e}function N(t,e){return(t=t.length-e.length)<0?1:t?-1:0}function j(t,e){return(t=t[f])<(e=e[f])?-1:e<t?1:0}function C(t,e){for(var i=f.length,n=0;n<i;n++)t=t[f[n]],e=e[f[n]];return t<e?-1:e<t?1:0}function P(t,e,i){return t?{page:t,next:e?""+e:null,result:i}:i}function D(t,e,i,n,s,r,o){var a,c=[],h=(_=!0===i?(i="0",""):i&&i.split(":"),t.length);if(1<h){var l,u,d,f,p,g,v,m,y,b=R(),k=[],x=0,w=!0,S=0,_=_&&(2===_.length?(v=_,!1):m=parseInt(_[0],10));if(o){for(l=R();x<h;x++)if("not"===s[x])for(d=(u=t[x]).length,E=0;E<d;E++)l["@"+u[E]]=1;else g=x+1;if(B(g))return P(i,a,c);x=0}else p=T(s)&&s;for(;x<h;x++){var L=x===(g||h)-1;if(!p||!x)if((E=p||s&&s[x])&&"and"!==E){if("or"!==E)continue;y=!1}else y=r=!0;if(d=(u=t[x]).length){if(w){if(!f){f=u;continue}for(var O=f.length,E=0;E<O;E++){var I="@"+(w=f[E]);o&&l[I]||(b[I]=1,r||(c[S++]=w))}f=null,w=!1}for(I=!1,E=0;E<d;E++){var j="@"+(O=u[E]),C=r?b[j]||0:x;if(!(!C&&!n||o&&l[j]||!r&&b[j]))if(C===x){if(L){if((!m||--m<S)&&(c[S++]=O,e&&S===e))return P(i,S+(_||0),c)}else b[j]=x+1;I=!0}else n&&((j=k[C]||(k[C]=[]))[j.length]=O)}if(y&&!I&&!n)break}else if(y&&!n)return P(i,a,u)}if(f)if(x=f.length,o)for(E=_?parseInt(_,10):0;E<x;E++)l["@"+(t=f[E])]||(c[S++]=t);else c=f;if(n)for(S=c.length,E=v?(x=parseInt(v[0],10)+1,parseInt(v[1],10)+1):(x=k.length,0);x--;)if(O=k[x]){for(d=O.length;E<d;E++)if(n=O[E],(!o||!l["@"+n])&&(c[S++]=n,e&&S===e))return P(i,x+":"+E,c);E=0}}else!h||s&&"not"===s[0]||(c=t[0],_=_&&parseInt(_[0],10));return e&&(o=c.length,(a=(_=(_=_&&o<_?0:_)||0)+e)<o?c=c.slice(_,a):(a=0,_&&(c=c.slice(_)))),P(i,a,c)}function T(t){return"string"==typeof t}function M(t){return t.constructor===Array}function U(t){return"function"==typeof t}function q(t){return"object"===Q(t)}function B(t){return void 0===t}function S(t){for(var e=Array(t),i=0;i<t;i++)e[i]=R();return e}function R(){return Object.create(null)}function z(){var i,n;self.onmessage=function(t){var e;(t=t.data)&&(t.search?(e=n.search(t.content,t.threshold?{limit:t.limit,threshold:t.threshold,where:t.where}:t.limit),self.postMessage({id:i,content:t.content,limit:t.limit,result:e})):t.add?n.add(t.id,t.content):t.update?n.update(t.id,t.content):t.remove?n.remove(t.id):t.clear?n.clear():t.info?((t=n.info()).worker=i,console.log(t)):t.register&&(i=t.id,t.options.cache=!1,t.options.async=!1,t.options.worker=!1,n=new(n=new Function(t.register.substring(t.register.indexOf("{")+1,t.register.lastIndexOf("}")))())(t.options)))}}var f,p={encode:"icase",f:"forward",split:/\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},g={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},i=[],G=0,v={},m={};u.create=function(t,e){return new u(t,e)},u.registerMatcher=function(t){for(var e in t)t.hasOwnProperty(e)&&i.push(d(e),t[e]);return this},u.registerEncoder=function(t,e){return _[t]=e.bind(_),this},u.registerLanguage=function(t,e){return v[t]=e.filter,m[t]=e.stemmer,this},u.encode=function(t,e){return _[t](e)},u.prototype.init=function(t,e){var i,n,s;if(this.v=[],e?(i=e.preset,t=e):i=(t=t||p).preset,e={},T(t)?(e=g[t],t={}):i&&(e=g[i]),i=t.worker)if("undefined"==typeof Worker)t.worker=!1,this.m=null;else{var r=parseInt(i,10)||4;this.C=-1,this.u=0,this.o=[],this.F=null,this.m=Array(r);for(var o=0;o<r;o++)this.m[o]=function(t,e,i,n){t=E("flexsearch","id"+t,z,function(t){(t=t.data)&&t.result&&n(t.id,t.content,t.result,t.limit,t.where,t.cursor,t.suggest)},e);var s=O.toString();return i.id=e,t.postMessage({register:s,options:i,id:e}),t}(this.id,o,t,I.bind(this))}if(this.f=t.tokenize||e.f||this.f||p.f,this.split=B(i=t.split)?this.split||p.split:T(i)?d(i):i,this.D=t.rtl||this.D||p.D,this.async="undefined"==typeof Promise||B(i=t.async)?this.async||p.async:i,this.g=B(i=t.worker)?this.g||p.g:i,this.threshold=B(i=t.threshold)?e.threshold||this.threshold||p.threshold:i,this.b=B(i=t.resolution)?i=e.b||this.b||p.b:i,i<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.f||B(i=t.depth)?e.depth||this.depth||p.depth:i,this.w=(i=B(i=t.encode)?e.encode||p.encode:i)&&_[i]&&_[i].bind(_)||(U(i)?i:this.w||!1),(i=t.matcher)&&this.addMatcher(i),i=(e=t.lang)||t.filter){if(M(i=T(i)?v[i]:i)){for(var r=this.w,o=R(),a=0;a<i.length;a++){var c=r?r(i[a]):i[a];o[c]=1}i=o}this.filter=i}if(i=e||t.stemmer){for(n in e=T(i)?m[i]:i,r=this.w,o=[],e)e.hasOwnProperty(n)&&(a=r?r(n):n,o.push(d(a+"($|\\W)"),r?r(e[n]):e[n]));this.stemmer=n=o}if(this.a=o=(i=t.doc)?function t(e){var i,n,s=R();for(i in e)e.hasOwnProperty(i)&&(M(n=e[i])?s[i]=n.slice(0):q(n)?s[i]=t(n):s[i]=n);return s}(i):this.a||p.a,this.i=S(this.b-(this.threshold||0)),this.h=R(),this.c=R(),o){if(this.l=R(),t.doc=null,n=o.index={},e=o.keys=[],r=o.field,a=o.tag,c=o.store,M(o.id)||(o.id=o.id.split(":")),c){var h=R();if(T(c))h[c]=1;else if(M(c))for(var l=0;l<c.length;l++)h[c[l]]=1;else q(c)&&(h=c);o.store=h}if(a){if(this.G=R(),c=R(),r)if(T(r))c[r]=t;else if(M(r))for(h=0;h<r.length;h++)c[r[h]]=t;else q(r)&&(c=r);for(M(a)||(o.tag=a=[a]),r=0;r<a.length;r++)this.G[a[r]]=R();this.I=a,r=c}if(r)for(M(r)||(q(r)?(s=r,o.field=r=Object.keys(r)):o.field=r=[r]),o=0;o<r.length;o++)M(a=r[o])||(s&&(t=s[a]),e[o]=a,r[o]=a.split(":")),n[a]=new u(t);t.doc=i}return this.B=!0,this.j=!!(this.cache=i=B(i=t.cache)?this.cache||p.cache:i)&&new Y(i),this},u.prototype.encode=function(t){return t&&(i.length&&(t=s(t,i)),this.v.length&&(t=s(t,this.v)),this.w&&(t=this.w(t)),this.stemmer&&(t=s(t,this.stemmer))),t},u.prototype.addMatcher=function(t){var e,i=this.v;for(e in t)t.hasOwnProperty(e)&&i.push(d(e),t[e]);return this},u.prototype.add=function(e,i,t,n,s){if(this.a&&q(e))return this.A("add",e,i);if(i&&T(i)&&(e||0===e)){var r,o="@"+e;if(this.c[o]&&!n)return this.update(e,i);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:e,content:i}),this.c[o]=""+this.C,t&&t(),this;if(!s){if(this.async&&"function"!=typeof importScripts)return r=this,o=new Promise(function(t){setTimeout(function(){r.add(e,i,null,n,!0),r=null,t()})}),t?(o.then(t),this):o;if(t)return this.add(e,i,null,n,!0),t(),this}if(!(i=this.encode(i)).length)return this;s=U(t=this.f)?t(i):i.split(this.split),this.filter&&(s=A(s,this.filter));var a=R();a._ctx=R();for(var c=s.length,h=this.threshold,l=this.depth,u=this.b,d=this.i,f=this.D,p=0;p<c;p++){var g=s[p];if(g){var v=g.length,m=(f?p+1:c-p)/c,y="";switch(t){case"reverse":case"both":for(var b=v;--b;)w(d,a,y=g[b]+y,e,f?1:(v-b)/v,m,h,u-1);y="";case"forward":for(b=0;b<v;b++)w(d,a,y+=g[b],e,f?(b+1)/v:1,m,h,u-1);break;case"full":for(b=0;b<v;b++)for(var k=(f?b+1:v-b)/v,x=v;b<x;x--)w(d,a,y=g.substring(b,x),e,k,m,h,u-1);break;default:if(v=w(d,a,g,e,1,m,h,u-1),l&&1<c&&h<=v)for(v=a._ctx[g]||(a._ctx[g]=R()),g=this.h[g]||(this.h[g]=S(u-(h||0))),(m=p-l)<0&&(m=0),(y=p+l+1)>c&&(y=c);m<y;m++)m!==p&&w(g,v,s[m],e,0,u-(m<p?p-m:m-p),h,u-1)}}}this.c[o]=1,this.B=!1}return this},u.prototype.A=function(t,e,i){if(M(e)){var n=e.length;if(n--){for(var s=0;s<n;s++)this.A(t,e[s]);return this.A(t,e[n],i)}}else{for(var r,o=this.a.index,a=this.a.keys,c=this.a.tag,s=this.a.store,h=this.a.id,n=e,l=0;l<h.length;l++)n=n[h[l]];if("remove"===t&&(delete this.l[n],h=a.length,h--)){for(e=0;e<h;e++)o[a[e]].remove(n);return o[a[h]].remove(n,i)}if(c){for(r=0;r<c.length;r++){for(var u=c[r],d=e,h=u.split(":"),l=0;l<h.length;l++)d=d[h[l]];d="@"+d}r=(r=this.G[u])[d]||(r[d]=[])}for(var f=0,p=(h=this.a.field).length;f<p;f++){for(u=h[f],c=e,d=0;d<u.length;d++)c=c[u[d]];u=o[a[f]],d="add"===t?u.add:u.update,f===p-1?d.call(u,n,c,i):d.call(u,n,c)}if(s){for(i=Object.keys(s),t=R(),o=0;o<i.length;o++)if(s[a=i[o]]){var a=a.split(":"),g=void 0,v=void 0;for(h=0;h<a.length;h++)g=(g||e)[c=a[h]],v=(v||t)[c]=g}e=t}r&&(r[r.length]=e),this.l[n]=e}return this},u.prototype.update=function(t,e,i){return this.a&&q(t)?this.A("update",t,e):(this.c["@"+t]&&T(e)&&(this.remove(t),this.add(t,e,i,!0)),this)},u.prototype.remove=function(e,t,i){if(this.a&&q(e))return this.A("remove",e,t);var n,s="@"+e;if(this.c[s]){if(this.g)return this.m[this.c[s]].postMessage({remove:!0,id:e}),delete this.c[s],t&&t(),this;if(!i){if(this.async&&"function"!=typeof importScripts)return n=this,s=new Promise(function(t){setTimeout(function(){n.remove(e,null,!0),n=null,t()})}),t?(s.then(t),this):s;if(t)return this.remove(e,null,!0),t(),this}for(t=0;t<this.b-(this.threshold||0);t++)h(this.i[t],e);this.depth&&h(this.h,e),delete this.c[s],this.B=!1}return this},u.prototype.search=function(i,n,t,e){if(q(n)){if(M(n))for(var s=0;s<n.length;s++)n[s].query=i;else n.query=i;i=n,n=1e3}else n&&U(n)?(t=n,n=1e3):n||0===n||(n=1e3);if(!this.g){var r,o,a,c,h=[],l=i;if(q(i)&&!M(i)&&(t||(t=i.callback)&&(l.callback=null),r=i.sort,o=i.page,n=i.limit,p=i.threshold,a=i.suggest,i=i.query),this.a){var u,d,f,p=this.a.index,g=l.where,v=l.bool||"or",m=l.field,y=v;if(m)M(m)||(m=[m]);else if(M(l))for(var b=l,m=[],y=[],k=0;k<l.length;k++)s=(e=l[k]).bool||v,m[k]=e.field,"not"===(y[k]=s)?u=!0:"and"===s&&(d=!0);else m=this.a.keys;for(v=m.length,k=0;k<v;k++)b&&(l=b[k]),o&&!T(l)&&(l.page=null,l.limit=0),h[k]=p[m[k]].search(l,0);return t?t(F.call(this,i,y,h,r,n,a,g,o,d,u)):this.async?(f=this,new Promise(function(e){Promise.all(h).then(function(t){e(F.call(f,i,y,t,r,n,a,g,o,d,u))})})):F.call(this,i,y,h,r,n,a,g,o,d,u)}if(p=p||(this.threshold||0),!e){if(this.async&&"function"!=typeof importScripts)return c=this,p=new Promise(function(t){setTimeout(function(){t(c.search(l,n,null,!0)),c=null})}),t?(p.then(t),this):p;if(t)return t(this.search(l,n,null,!0)),this}if(!i||!T(i))return h;if(l=i,this.cache)if(this.B){if(t=this.j.get(i))return t}else this.j.clear(),this.B=!0;if(!(l=this.encode(l)).length)return h;t=U(t=this.f)?t(l):l.split(this.split),b=(t=this.filter?A(t,this.filter):t).length,e=!0;var s=[],x=R(),w=0;if(1<b&&(this.depth&&"strict"===this.f?v=!0:t.sort(N)),!v||(k=this.h))for(var S=this.b;w<b;w++){var _=t[w];if(_){if(v){if(!m)if(k[_])x[m=_]=1;else if(!a)return h;if(a&&w===b-1&&!s.length)v=!1,x[_=m||_]=0;else if(!m)continue}if(!x[_]){var L=[],O=!1,E=0,I=v?k[m]:this.i;if(I)for(var j,C=0;C<S-p;C++)(j=I[C]&&I[C][_])&&(L[E++]=j,O=!0);if(O)m=_,s[s.length]=1<E?L.concat.apply([],L):L[0];else if(!a){e=!1;break}x[_]=1}}}else e=!1;return e&&(h=D(s,n,o,a)),this.cache&&this.j.set(i,h),h}this.F=t,this.u=0,this.o=[];for(var p=0;p<this.g;p++)this.m[p].postMessage({search:!0,limit:n,content:i})},u.prototype.find=function(t,e){return this.where(t,e,1)[0]||null},u.prototype.where=function(t,e,i,n){var s,r,o=this.l,a=[],c=0;if(q(t)){i=i||e;var h=Object.keys(t),l=h.length,u=!1;if(1===l&&"id"===h[0])return[o[t.id]];if((s=this.I)&&!n)for(var d=0;d<s.length;d++){var f=s[d],p=t[f];if(!B(p)){if(r=this.G[f]["@"+p],0==--l)return r;h.splice(h.indexOf(f),1),delete t[f];break}}for(s=Array(l),d=0;d<l;d++)s[d]=h[d].split(":")}else{if(U(t)){for(i=(e=n||Object.keys(o)).length,h=0;h<i;h++)t(l=o[e[h]])&&(a[c++]=l);return a}if(B(e))return[o[t]];if("id"===t)return[o[e]];h=[t],l=1,s=[t.split(":")],u=!0}for(d=(n=r||n||Object.keys(o)).length,f=0;f<d;f++){for(var p=r?n[f]:o[n[f]],g=!0,v=0;v<l;v++){u||(e=t[h[v]]);var m=s[v],y=m.length,b=p;if(1<y)for(var k=0;k<y;k++)b=b[m[k]];else b=b[m[0]];if(b!==e){g=!1;break}}if(g&&(a[c++]=p,i&&c===i))break}return a},u.prototype.info=function(){if(!this.g)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.s)&&this.cache.s.length,matcher:i.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f};for(var t=0;t<this.g;t++)this.m[t].postMessage({info:!0,id:this.id})},u.prototype.clear=function(){return this.destroy().init()},u.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.i=this.h=this.c=null,this.a){for(var t=this.a.keys,e=0;e<t.length;e++)this.a.index[t[e]].destroy();this.a=this.l=null}return this},u.prototype.export=function(t){var e=!t||B(t.serialize)||t.serialize;if(this.a){var i=!t||B(t.doc)||t.doc,n=!t||B(t.index)||t.index,s=(t=[],0);if(n)for(n=this.a.keys;s<n.length;s++){var r=this.a.index[n[s]];t[s]=[r.i,r.h,Object.keys(r.c)]}i&&(t[s]=this.l)}else t=[this.i,this.h,Object.keys(this.c)];return t=e?JSON.stringify(t):t},u.prototype.import=function(t,e){e&&!B(e.serialize)&&!e.serialize||(t=JSON.parse(t));var i=R();if(this.a){var n=!e||B(e.doc)||e.doc,s=0;if(!e||B(e.index)||e.index){for(var r=(e=this.a.keys).length,o=t[0][2];s<o.length;s++)i[o[s]]=1;for(s=0;s<r;s++){var o=this.a.index[e[s]],a=t[s];a&&(o.i=a[0],o.h=a[1],o.c=i)}}n&&(this.l=q(n)?n:t[s])}else{for(n=t[2],s=0;s<n.length;s++)i[n[s]]=1;this.i=t[0],this.h=t[1],this.c=i}};k=d("\\s+"),b=d("[^a-z0-9 ]"),e=[d("[-/]")," ",b,"",k," "];var o,e,t,a,c,l,y,H,$,J,W,b,k,x,K,_={icase:function(t){return t.toLowerCase()},simple:(b=d("\\s+"),k=d("[^a-z0-9 ]"),x=d("[-/]"),K=[d("[àáâãäå]"),"a",d("[èéêë]"),"e",d("[ìíîï]"),"i",d("[òóôõöő]"),"o",d("[ùúûüű]"),"u",d("[ýŷÿ]"),"y",d("ñ"),"n",d("[çc]"),"k",d("ß"),"s",d(" & ")," and ",x," ",k,"",b," "],function(t){return" "===(t=s(t.toLowerCase(),K))?"":t}),advanced:(x=d("ae"),k=d("ai"),b=d("ay"),t=d("ey"),a=d("oe"),c=d("ue"),l=d("ie"),y=d("sz"),H=d("zs"),$=d("ck"),J=d("cc"),W=[x,"a",k,"ei",b,"ei",t,"ei",a,"o",c,"u",l,"i",y,"s",H,"s",d("sh"),"s",$,"k",J,"k",d("th"),"t",d("dt"),"t",d("ph"),"f",d("pf"),"f",d("ou"),"o",d("uo"),"u"],function(t,e){return t&&(2<(t=this.simple(t)).length&&(t=s(t,W)),e||1<t.length&&(t=r(t)),t)}),extra:(o=[d("p"),"b",d("z"),"s",d("[cgq]"),"k",d("n"),"m",d("d"),"t",d("[vw]"),"f",d("[aeiouy]"),""],function(t){if(!t)return t;if(1<(t=this.advanced(t,!0)).length){t=t.split(" ");for(var e=0;e<t.length;e++){var i=t[e];1<i.length&&(t[e]=i[0]+s(i.substring(1),o))}t=r(t=t.join(" "))}return t}),balance:function(t){return r(s(t.toLowerCase(),e))}},Y=(L.prototype.clear=function(){this.cache=R(),this.count=R(),this.index=R(),this.s=[]},L.prototype.set=function(t,e){var i,n;this.H&&B(this.cache[t])?((i=this.s.length)===this.H&&(n=this.s[--i],delete this.cache[n],delete this.count[n],delete this.index[n]),this.index[t]=i,this.s[i]=t,this.count[t]=-1,this.cache[t]=e,this.get(t)):this.cache[t]=e},L.prototype.get=function(t){var e=this.cache[t];if(this.H&&e){var i=++this.count[t],n=this.index,s=n[t];if(0<s){for(var r=this.s,o=s;this.count[r[--s]]<=i&&-1!==s;);if(++s!==o){for(i=o;s<i;i--)o=r[i-1],n[r[i]=o]=i;n[r[s]=t]=s}}}return e},L);function L(t){this.clear(),this.H=!0!==t&&t}return u}((r={},o="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL,function(t,e,i,n,s){return i=o?URL.createObjectURL(new Blob(["("+i.toString()+")()"],{type:"text/javascript"})):t+".min.js",r[t+="-"+e]||(r[t]=[]),r[t][s]=new Worker(i),r[t][s].onmessage=n,r[t][s]})),(c=(a=this).define)&&c.amd?c([],function(){return s}):(c=a.modules)?c[n.toLowerCase()]=s:"object"===Q(e)?t.exports=s:a[n]=s},function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return c});var e=i(0),r=i.n(e);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i=h,e=[{key:"initConfig",value:function(t){for(var i=this,e=0,n=Object.entries(t);e<n.length;e++){var s=o(n[e],2),r=s[0],s=s[1];this.config[r]=s}Array.isArray(this.config.inputId)||(this.config.inputId=[this.config.inputId]),Array.isArray(this.config.outputId)||(this.config.outputId=[this.config.outputId]),this.config.searchOptions.limit=this.config.limit,this.originalPostsFields=this.config.postsFields,this.config.postsFields.includes("updated_at")||this.config.postsFields.push("updated_at"),this.config.inputId&&0<this.config.inputId.length&&(this.searchBarEls=[],this.config.inputId.forEach(function(t){var e=document.getElementById(t);e?(i.searchBarEls.push(e),i.addSearchListeners(e)):i.error("Enable to find the input element #".concat(t,", please check your configuration"))})),this.config.outputId&&0<this.config.outputId.length&&(this.searchResultEls=[],this.config.outputId.forEach(function(t){var e=document.getElementById(t);e?i.searchResultEls.push(e):i.error("Enable to find the output element #".concat(t,", please check your configuration"))})),this.index=this.getNewSearchIndex()}},{key:"addSearchListeners",value:function(e){var i=this,t=e.closest("form");switch(t&&t.addEventListener("submit",function(t){t.preventDefault()}),this.config.searchOn){case"keyup":e.addEventListener("keyup",function(){var t=e.value.toLowerCase();i.search(t)});break;case"submit":t.addEventListener("submit",function(){var t=e.value.toLowerCase();i.search(t)});break;case!1:case"none":break;default:this.error('Unknown "searchOn" option: \''.concat(this.config.searchOn,"'"))}}},{key:"triggerDataLoad",value:function(){var e=this;switch(this.config.loadOn){case"focus":this.searchBarEls.forEach(function(t){t.addEventListener("focus",function(){e.loadData()})});break;case"page":window.addEventListener("load",function(){e.loadData()});break;case!1:case"none":break;default:this.error('Unknown "loadOn" option: \''.concat(this.config.loadOn,"'"))}}},{key:"loadData",value:function(){if(!this.dataLoaded){if(!this.storage)return this.log("No local storage available, switch to degraded mode"),void this.fetch();var t=this.storage.getItem("SearchinGhost_index");t?(this.log("Found an index stored locally, loads it"),this.config.onIndexBuildStart(),this.index.import(t),this.dataLoaded=!0,this.config.onIndexBuildEnd(this.index),this.validateCache()):(this.log("No already stored index found"),this.fetch())}}},{key:"validateCache",value:function(){var i=this,t=this.storage.getItem("SearchinGhost_cache_info");if(!t)return this.log("No cache info local object found"),void this.fetch();var n=JSON.parse(t),t=new Date(n.lastCacheCheck),t=Math.round((new Date-t)/1e3);t<this.config.cacheMaxAge?this.log("Skip cache refreshing, updated less than ".concat(this.config.cacheMaxAge,"s ago (").concat(t,"s)")):(t=this.buildUrl({limit:1,fields:["updated_at"],order:"updated_at DESC"}),fetch(t).then(function(t){return t.json()}).then(function(t){var e=t.posts[0].updated_at,t=t.meta.pagination.total;e!==n.lastestPostUpdatedAt?(i.log("Posts update found, purge outdated local cache"),i.fetch()):t<n.totalPosts?(i.log("Deleted or unpublished posts found, purge outdated local cache"),i.fetch()):(i.log("Local cached data up to date"),n.lastCacheCheck=(new Date).toISOString(),i.storage.setItem("SearchinGhost_cache_info",JSON.stringify(n)))}).catch(function(t){console.error("Unable to fetch the latest post information to check cache state",t)}))}},{key:"fetch",value:(a=function(){var i=this,t=(this.log("Fetching data from Ghost API"),this.config.onFetchStart(),{limit:"all",fields:this.config.postsFields,order:"updated_at DESC"}),t=(0<this.config.postsExtraFields.length&&(t.include=this.config.postsExtraFields),0<this.config.postsFormats.length&&(t.formats=this.config.postsFormats),this.buildUrl(t));fetch(t).then(function(t){return t.json()}).then(function(t){var e=t.posts;i.config.onFetchEnd(e),i.config.onIndexBuildStart(),i.index=i.getNewSearchIndex(),e.forEach(function(t){t=i.format(t);t&&i.index.add(t)}),i.dataLoaded=!0,i.config.onIndexBuildEnd(i.index),i.storage&&(e={lastCacheCheck:(new Date).toISOString(),lastestPostUpdatedAt:e[0].updated_at,totalPosts:t.meta.pagination.total},i.storage.setItem("SearchinGhost_index",i.index.export()),i.storage.setItem("SearchinGhost_cache_info",JSON.stringify(e))),i.log("Search index build complete")}).catch(function(t){i.error("Unable to fetch Ghost data.\n",t)})},l.toString=function(){return a.toString()},l)},{key:"format",value:function(t){return t.id=this.postsCount++,t.published_at=this.prettyDate(t.published_at),this.originalPostsFields.includes("updated_at")||delete t.updated_at,t.custom_excerpt&&(t.excerpt=t.custom_excerpt,delete t.custom_excerpt),this.config.customProcessing(t)}},{key:"search",value:function(t){this.loadData(),this.config.onSearchStart();t=this.index.search(t,this.config.searchOptions);return this.searchResultEls&&0<this.searchResultEls.length&&this.display(t),this.config.onSearchEnd(t),t}},{key:"display",value:function(t){var e=this;this.searchResultEls.forEach(function(t){t.innerHTML=""}),t.length<1?this.insertTemplate(this.config.emptyTemplate()):t.forEach(function(t){e.insertTemplate(e.config.template(t))})}},{key:"insertTemplate",value:function(i){var n=this;i&&this.searchResultEls.forEach(function(t){var e;n.config.outputChildsType?((e=document.createElement(n.config.outputChildsType)).classList.add("".concat(t.id,"-item")),e.innerHTML=i,t.appendChild(e)):t.insertAdjacentHTML("beforeend",i)})}},{key:"getNewSearchIndex",value:function(){for(var t={doc:{id:"id",field:this.config.indexedFields},encode:"simple",tokenize:"forward",threshold:0,resolution:4,depth:0},e=0,i=Object.entries(this.config.indexOptions);e<i.length;e++){var n=o(i[e],2),s=n[0],n=n[1];t[s]=n}return new r.a(t)}},{key:"buildUrl",value:function(t){for(var e="".concat(this.config.url,"/ghost/api/").concat(this.config.version,"/content/posts/?key=").concat(this.config.key),i=0,n=Object.entries(t);i<n.length;i++){var s=o(n[i],2),r=s[0],s=s[1];e+="&".concat(r,"=").concat(s)}return encodeURI(e)}},{key:"prettyDate",value:function(t){return new Date(t).toLocaleDateString(this.config.date.locale,this.config.date.options)}},{key:"getLocalStorageOption",value:function(){try{return window.localStorage.setItem("storage-availability-test",""),window.localStorage.removeItem("storage-availability-test"),window.localStorage}catch(t){return}}},{key:"log",value:function(t,e){this.config.debug&&(e?console.log(t,e):console.log(t))}},{key:"error",value:function(t,e){e?console.error(t,e):console.error(t)}}],s(i.prototype,e);var a,c=h;function h(t){var e=this;if(!(e instanceof h))throw new TypeError("Cannot call a class as a function");this.config={url:window.location.origin,key:"",version:"v3",loadOn:"focus",searchOn:"keyup",limit:10,inputId:["search-bar"],outputId:["search-results"],outputChildsType:"li",postsFields:["title","url","excerpt","custom_excerpt","published_at","feature_image"],postsExtraFields:["tags"],postsFormats:["plaintext"],indexedFields:["title","string_tags","excerpt","plaintext"],template:function(t){var e='<a href="'.concat(t.url,'">');return t.feature_image&&(e+='<img src="'.concat(t.feature_image,'">')),e+="<section>",0<t.tags.length?e+='<header>\n                            <span class="head-tags">'.concat(t.tags[0].name,'</span>\n                            <span class="head-date">').concat(t.published_at,"</span>\n                          </header>"):e+='<header>\n                            <span class="head-tags">UNKNOWN</span>\n                            <span class="head-date">'.concat(t.published_at,"</span>\n                          </header>"),(e+="<h2>".concat(t.title,"</h2>"))+"</section></a>"},emptyTemplate:function(){},customProcessing:function(t){return t.tags&&(t.string_tags=t.tags.map(function(t){return t.name}).join(" ").toLowerCase()),t},date:{locale:document.documentElement.lang||"en-US",options:{year:"numeric",month:"short",day:"numeric"}},cacheMaxAge:1800,onFetchStart:function(){},onFetchEnd:function(t){},onIndexBuildStart:function(){},onIndexBuildEnd:function(t){},onSearchStart:function(){},onSearchEnd:function(t){},indexOptions:{},searchOptions:{},debug:!1},this.dataLoaded=!1,this.postsCount=0,this.storage=this.getLocalStorageOption(),this.initConfig(t),this.triggerDataLoad()}function l(){return a.apply(this,arguments)}}],h={},l.m=c,l.c=h,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var u;new(l(l.s=1).default)({key:"c70e455b05475a982fbfb88d16",indexOptions:{split:/\s+/,encode:function(t){var e,i={a:/[àáâãäå]/g,e:/[èéêë]/g,i:/[ìíîï]/g,o:/[òóôõöő]/g,u:/[ùúûüű]/g,y:/[ýŷÿ]/g,n:/ñ/g,c:/[ç]/g,s:/ß/g," ":/\s+/g,"":/['!"#$%&\\()\*+,-./:;<=>?@[\]^_`{|}~]/g};t=t.toLowerCase();for(e of Object.keys(i))t=t.replace(i[e],e);return" "===t?"":t}},postsFields:["title","url","excerpt","published_at"],postsExtraFields:["tags"],inputId:["search__input"],outputId:["search__results"],outputChildsType:"div",indexedFields:["title","string_tags","plaintext","url"],template:function(t){return`<a class="search__results-link" href="${t.url}"><h3 class="search__results-title">${t.title}</h3><div class="search__results-date">${t.published_at}</div></a>`}});const d=document.querySelector(".head__search-icon"),f=document.body,p=document.querySelector(".search"),g=document.querySelector(".search__inner"),v=document.querySelector(".search__overlay"),m=document.querySelector("#search__results"),y=document.querySelector("#search__input"),b=document.querySelector(".search__closed-button");function k(){f.classList.add("no-search"),f.classList.remove("is-search"),y.value="",y.blur(),m.innerHTML=""}function x(t){("Escape"===t.code&&f.classList.contains("is-search")||t.target===v||t.target===g)&&k()}f.classList.add("no-search"),p.style.display="none",d.addEventListener("click",()=>{f.classList.remove("no-search"),f.classList.add("is-search"),p.style.display="block",setTimeout(()=>y.focus(),100),f.classList.contains("is-head-open")&&f.classList.remove("is-head-open")}),document.addEventListener("keydown",x),p.addEventListener("click",x),b.addEventListener("click",k);{let e=document.querySelector(".cookie-alert"),t=e.querySelector(".cookie-alert__accept");return u="cookies_policy",(u=document.cookie.match(new RegExp("(?:^|; )"+u.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))&&decodeURIComponent(u[1])||e.classList.add("show"),void t.addEventListener("click",function(){{var t="cookies_policy",i="true",n=365;let e="";if(n){let t=new Date;t.setTime(t.getTime()+24*n*60*60*1e3),e="; expires="+t.toUTCString()}document.cookie=t+"="+(i||"")+e+"; path=/"}e.classList.remove("show")})}});
//# sourceMappingURL=global.js.map